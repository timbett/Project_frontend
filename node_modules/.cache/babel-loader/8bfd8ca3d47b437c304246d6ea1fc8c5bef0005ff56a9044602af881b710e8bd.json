{"ast":null,"code":"var _jsxFileName = \"/home/kibet/Phase 4/Project_frontend/src/Router/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport HomePage from \"../pages/Home\";\nimport NotFound from \"../pages/404\";\nimport Products from \"../pages/Products\";\nimport Cart from \"../pages/Cart\";\nimport Navbar from \"../pages/Navbar\";\nimport Login from '../pages/Login';\n// import Product from \"../pages/Product\";\n\n// const routes = [\n//   { name: 'Home Page', path: '/', component: HomePage },\n//   { name: 'Not Found', path: '/not-found', component: NotFound },\n//   { name: 'Products', path: '/products', component: Products },\n//   { name: 'Carts', path: '/cart', component: Cart },\n// ]\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const MainRoute = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [newData, setNewData] = useState(false);\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    fetch(\"/me\").then(r => {\n      if (r.ok) {\n        r.json().then(user => setUser(user));\n      }\n    });\n  }, []);\n  function fetchCartItems() {\n    fetch(\"/carts\").then(r => r.json()).then(d => {\n      console.log(d);\n      setCartItems(d);\n    });\n  }\n  useEffect(() => {\n    fetch(\"/foods\").then(res => res.json()).then(products => {\n      console.log(products);\n      setProducts(products);\n    });\n  }, [newData]);\n  useEffect(() => {\n    fetch(\"https://instant-eats-production.up.railway.app/users\").then(r => r.json()).then(users => {\n      console.log(users);\n      setUsers(users);\n    });\n  }, []);\n  function newFetch() {\n    setNewData(newData => !newData);\n  }\n  const [food, setFood] = useState({});\n  function addCart(foodId) {\n    console.log(foodId);\n    fetch(`/foods/${foodId}`).then(r => r.json()).then(food => {\n      console.log(food);\n      setFood(food);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/not-found\",\n        element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/products\",\n        element: /*#__PURE__*/_jsxDEV(Products, {\n          addCart: addCart,\n          products: products,\n          users: users\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/cart\",\n        element: /*#__PURE__*/_jsxDEV(Cart, {\n          newFetch: newFetch,\n          user: user,\n          food: food,\n          users: users,\n          products: cartItems,\n          getUpdatedItems: fetchCartItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(MainRoute, \"JblI/xVIE9xFgGx1Z8EuQpQUihM=\");\n_c = MainRoute;\nvar _c;\n$RefreshReg$(_c, \"MainRoute\");","map":{"version":3,"names":["React","useEffect","useState","Route","Routes","HomePage","NotFound","Products","Cart","Navbar","Login","MainRoute","products","setProducts","users","setUsers","cartItems","setCartItems","newData","setNewData","user","setUser","fetch","then","r","ok","json","fetchCartItems","d","console","log","res","newFetch","food","setFood","addCart","foodId"],"sources":["/home/kibet/Phase 4/Project_frontend/src/Router/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport HomePage from \"../pages/Home\";\nimport NotFound from \"../pages/404\";\nimport Products from \"../pages/Products\";\nimport Cart from \"../pages/Cart\";\nimport Navbar from \"../pages/Navbar\";\nimport Login from '../pages/Login'\n// import Product from \"../pages/Product\";\n\n// const routes = [\n//   { name: 'Home Page', path: '/', component: HomePage },\n//   { name: 'Not Found', path: '/not-found', component: NotFound },\n//   { name: 'Products', path: '/products', component: Products },\n//   { name: 'Carts', path: '/cart', component: Cart },\n// ]\n\nexport const MainRoute = () => {\n  const [products, setProducts] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [newData, setNewData] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    fetch(\"/me\").then((r) => {\n      if (r.ok) {\n        r.json().then((user) => setUser(user));\n      }\n    });\n  }, []);\n\n  function fetchCartItems() {\n    fetch(\"/carts\")\n      .then((r) => r.json())\n      .then((d) => {\n        console.log(d);\n        setCartItems(d);\n      });\n  }\n\n  useEffect(() => {\n    fetch(\"/foods\")\n      .then((res) => res.json())\n      .then((products) => {\n        console.log(products);\n        setProducts(products);\n      });\n  }, [newData]);\n\n  useEffect(() => {\n    fetch(\"https://instant-eats-production.up.railway.app/users\")\n      .then((r) => r.json())\n      .then((users) => {\n        console.log(users);\n        setUsers(users);\n      });\n  }, []);\n\n  function newFetch() {\n    setNewData((newData) => !newData);\n  }\n  const [food, setFood] = useState({});\n\n  function addCart(foodId) {\n    console.log(foodId);\n    fetch(`/foods/${foodId}`)\n      .then((r) => r.json())\n      .then((food) => {\n        console.log(food);\n        setFood(food);\n      });\n  }\n\n  return (\n    <>\n      <Navbar />\n      <Routes>\n        <Route exact path=\"/\" element={<HomePage />} />\n        <Route exact path=\"/not-found\" element={<NotFound />} />\n        <Route\n          exact\n          path=\"/products\"\n          element={\n            <Products addCart={addCart} products={products} users={users} />\n          }\n        />\n        <Route exact path=\"/login\" element={<Login/>}/>\n        {/* <Route exact path=\"/product\" element={<Product product={product} users={users}/>} /> */}\n        <Route\n          exact\n          path=\"/cart\"\n          element={\n            <Cart\n              newFetch={newFetch}\n              user={user}\n              food={food}\n              users={users}\n              products={cartItems}\n              getUpdatedItems={fetchCartItems}\n            />\n          }\n        />\n      </Routes>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}